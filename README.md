# TurtleBot3 NLPåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ“‹ æ¦‚è¦

TurtleBot3ã‚’è‡ªç„¶è¨€èªã§åˆ¶å¾¡ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚Gemini APIã‚’ä½¿ç”¨ã—ã¦ã€æ—¥æœ¬èªã®ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ­ãƒœãƒƒãƒˆã®å‹•ä½œã«å¤‰æ›ã—ã¾ã™ã€‚

## ğŸš€ æ©Ÿèƒ½

- éŸ³å£°ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã‚‹è‡ªç„¶è¨€èªã‚³ãƒãƒ³ãƒ‰å…¥åŠ›
- Gemini APIã‚’ä½¿ç”¨ã—ãŸè‡ªç„¶è¨€èªå‡¦ç†
- ROS2 Humbleç’°å¢ƒã§ã®TurtleBot3åˆ¶å¾¡
- Gazeboã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®å‹•ä½œ
- æ—¥æœ¬èªãƒ»è‹±èªã®å¤šè¨€èªã‚µãƒãƒ¼ãƒˆ

## ğŸ® ä½¿ç”¨æ–¹æ³•

### å‰ææ¡ä»¶
- Docker
- WSL2ï¼ˆWindowsç’°å¢ƒã®å ´åˆï¼‰
- X11ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆGUIè¡¨ç¤ºã®å ´åˆï¼‰
- Gemini APIã‚­ãƒ¼

### 1. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã®.bashrcã«è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆ
source ~/.bashrc

# ã¾ãŸã¯ç›´æ¥è¨­å®š
export GEMINI_API_KEY="your-gemini-api-key-here"

# è¨­å®šç¢ºèª
echo $GEMINI_API_KEY
```

### 2. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
```bash
bash docker-build.sh
```

### 3. ã‚·ã‚¹ãƒ†ãƒ ã®èµ·å‹•

```bash
# ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•(gazeboã®èµ·å‹•ã‚‚åŒæ™‚ã«è¡Œã‚ã‚Œã‚‹)
bash scripts/run/run-demo.sh

# gazeboèµ·å‹•å¾Œã€åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§NLP Controller & CLI Interfaceèµ·å‹•
bash scripts/run/run-nlp-controller.sh
```

### 4. CLI Interfaceã§ã®ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›

ã‚·ã‚¹ãƒ†ãƒ ãŒèµ·å‹•ã—ãŸã‚‰ã€CLI Interfaceã§è‡ªç„¶è¨€èªã«ã‚ˆã‚‹å‹•ä½œæŒ‡ä»¤ã‚’è¡Œãˆã¾ã™

## ğŸ”§ ç®¡ç†ã‚³ãƒãƒ³ãƒ‰

### ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
```bash
bash scripts/run/run-status.sh
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåœæ­¢
```bash
# Gazeboåœæ­¢
bash scripts/run/run-stop-gazebo.sh

# NLP Controlleråœæ­¢
bash scripts/run/run-stop-nlp-controller.sh
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### GUIãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ
```bash
# X11ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ç¢ºèª
echo $DISPLAY

# æ¨©é™ã®è¨­å®š
xhost +local:docker
```

### ãƒ­ãƒœãƒƒãƒˆãŒå‹•ã‹ãªã„å ´åˆ
1. ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚’ç¢ºèª
   ```bash
   bash scripts/run/run-status.sh
   ```

2. ãƒˆãƒ”ãƒƒã‚¯ã®ç¢ºèª
   ```bash
   # ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œ
   docker exec -it $(docker ps -q) bash -c "
       source /opt/ros/humble/setup.bash
       source /workspace/install/setup.bash
       ros2 topic list
       ros2 topic echo /cmd_vel
   "
   ```

### ã‚³ãƒ³ãƒ†ãƒŠãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ
```bash
# ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•
bash scripts/run/run-demo.sh
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ
â”œâ”€â”€ ğŸ³ Dockeré–¢é€£
â”‚   â””â”€â”€ Dockerfile              # ãƒ¡ã‚¤ãƒ³ã®Dockerfile
â”œâ”€â”€ ğŸ“œ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ build/                  # ãƒ“ãƒ«ãƒ‰é–¢é€£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â””â”€â”€ build.sh
â”‚   â”œâ”€â”€ run/                    # ãƒ›ã‚¹ãƒˆã‹ã‚‰å®Ÿè¡Œã™ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ run-demo.sh
â”‚   â”‚   â”œâ”€â”€ run-gazebo-only.sh
â”‚   â”‚   â”œâ”€â”€ run-nlp-controller.sh
â”‚   â”‚   â”œâ”€â”€ run-smart-start.sh
â”‚   â”‚   â”œâ”€â”€ run-status.sh
â”‚   â”‚   â”œâ”€â”€ run-stop-gazebo.sh
â”‚   â”‚   â””â”€â”€ run-stop-nlp-controller.sh
â”‚   â”œâ”€â”€ start/                  # ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã™ã‚‹èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ start-gazebo-only.sh
â”‚   â”‚   â”œâ”€â”€ start-nlp-controller.sh
â”‚   â”‚   â””â”€â”€ start-turtlebot3-nlp-smart.sh
â”‚   â”œâ”€â”€ stop/                   # ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã™ã‚‹åœæ­¢ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ stop-gazebo.sh
â”‚   â”‚   â””â”€â”€ stop-nlp-controller.sh
â”‚   â””â”€â”€ status/                 # ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚       â””â”€â”€ status.sh
â”œâ”€â”€ ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ âš™ï¸ è¨­å®š
â”‚   â””â”€â”€ (ç’°å¢ƒå¤‰æ•°ã§ç›´æ¥è¨­å®š)
â””â”€â”€ ğŸ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
    â””â”€â”€ src/
```

## ğŸ¯ æˆåŠŸã®ç¢ºèª

ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹å ´åˆã€ä»¥ä¸‹ã®ãƒˆãƒ”ãƒƒã‚¯ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ï¼š

- `/cmd_vel` - é€Ÿåº¦ã‚³ãƒãƒ³ãƒ‰
- `/odom` - ã‚ªãƒ‰ãƒ¡ãƒˆãƒª
- `/scan` - ãƒ¬ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ£ãƒ³
- `/imu` - IMUãƒ‡ãƒ¼ã‚¿
- `/camera/image_raw` - ã‚«ãƒ¡ãƒ©ç”»åƒ
- `/nlp_command` - NLPã‚³ãƒãƒ³ãƒ‰

CLI Interfaceã§ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€TurtleBot3ãŒGazeboã§ç§»å‹•ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚